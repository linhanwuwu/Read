<!-- ############################################################ -->
<!-- ##### Áé∞‰ª£ÂåñÂ∞èËØ¥ÈòÖËØªÂô®ÔºàÊîØÊåÅGitHubËá™Âä®Âä†ËΩΩÂ∞èËØ¥Ôºâ ##### -->
<!-- ############################################################ -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Áé∞‰ª£ÂåñÂ∞èËØ¥ÈòÖËØªÂô®</title>
    <style>
        /* ############################################################ */
        /* ##### Âü∫Á°ÄÊ†∑ÂºèÂíå‰∏ªÈ¢òËÆæÁΩÆ ##### */
        /* ############################################################ */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Serif SC', serif;
            background: linear-gradient(135deg, #f5f0e1 0%, #e6d3a7 100%);
            color: #000000;
            min-height: 100vh;
            transition: background 0.3s ease, color 0.3s ease;
            padding: 20px;
        }
        
        body.night-mode {
            background: linear-gradient(135deg, #444444 0%, #34495e 100%);
            color: #ffffff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* ############################################################ */
        /* ##### Â§¥ÈÉ®Ê†∑Âºè ##### */
        /* ############################################################ */
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            position: relative;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #8b4513;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        body.night-mode h1 {
            color: #ffffff;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
        }
        
        /* ############################################################ */
        /* ##### ÊéßÂà∂Èù¢ÊùøÊ†∑Âºè ##### */
        /* ############################################################ */
        
        .control-panel {
            background: rgba(245, 240, 225, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: space-between;
        }
        
        body.night-mode .control-panel {
            background: rgba(40, 40, 40, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .control-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        
        .control-group label {
            font-weight: bold;
        }
        
        select, input, button {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.8);
            font-family: inherit;
            font-size: 1rem;
        }
        
        body.night-mode select, 
        body.night-mode input, 
        body.night-mode button {
            background: rgba(60, 60, 60, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }
        
        button {
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            background: linear-gradient(to bottom, #8b4513, #5d2e0a);
            color: white;
            border: none;
        }
        
        body.night-mode button {
            background: linear-gradient(to bottom, #555555, #333333);
            color: #ffffff;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* ############################################################ */
        /* ##### ÂÜÖÂÆπÂå∫ÂüüÊ†∑Âºè ##### */
        /* ############################################################ */
        
        .content-area {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        /* ############################################################ */
        /* ##### Á´†ËäÇÂàóË°®Ê†∑Âºè ##### */
        /* ############################################################ */
        
        .chapter-list-container {
            flex: 1;
            min-width: 300px;
            background: rgba(245, 240, 225, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            max-height: 80vh;
            overflow-y: auto;
        }
        
        body.night-mode .chapter-list-container {
            background: rgba(40, 40, 40, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .chapter-list-container h2 {
            margin-bottom: 15px;
            color: #8b4513;
            text-align: center;
        }
        
        body.night-mode .chapter-list-container h2 {
            color: #ffffff;
        }
        
        .chapter-list {
            list-style: none;
        }
        
        .chapter-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        body.night-mode .chapter-item {
            background: rgba(60, 60, 60, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chapter-item:hover {
            background: rgba(139, 69, 19, 0.2);
            transform: translateX(5px);
        }
        
        body.night-mode .chapter-item:hover {
            background: rgba(100, 100, 100, 0.7);
        }
        
        .chapter-item.active {
            background: rgba(139, 69, 19, 0.4);
            font-weight: bold;
        }
        
        body.night-mode .chapter-item.active {
            background: rgba(100, 100, 100, 0.9);
        }
        
        /* ############################################################ */
        /* ##### ÈòÖËØªÂå∫ÂüüÊ†∑Âºè ##### */
        /* ############################################################ */
        
        .reader-container {
            flex: 2;
            min-width: 300px;
            background: rgba(245, 240, 225, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            max-height: 80vh;
            overflow-y: auto;
        }
        
        body.night-mode .reader-container {
            background: rgba(40, 40, 40, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .chapter-title {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #8b4513;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(139, 69, 19, 0.3);
        }
        
        body.night-mode .chapter-title {
            color: #ffffff;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .chapter-content {
            line-height: 1.8;
            font-size: 1.1rem;
            text-indent: 2em;
        }
        
        .chapter-content p {
            margin-bottom: 20px;
            text-align: justify;
        }
        
        /* ############################################################ */
        /* ##### ÂàÜÈ°µÂØºËà™Ê†∑Âºè ##### */
        /* ############################################################ */
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            gap: 10px;
        }
        
        body.night-mode .pagination {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .pagination button {
            padding: 10px 15px;
        }
        
        .pagination-info {
            display: flex;
            align-items: center;
            margin: 0 15px;
            font-weight: bold;
        }
        
        /* ############################################################ */
        /* ##### Âä†ËΩΩÊåáÁ§∫Âô®Ê†∑Âºè ##### */
        /* ############################################################ */
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
        }
        
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #8b4513;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ############################################################ */
        /* ##### Èü≥‰πêÊí≠ÊîæÂô®Ê†∑Âºè ##### */
        /* ############################################################ */
        
        .music-player-container {
            position: fixed;
            right: 15px;
            bottom: 15px;
            z-index: 1000;
            font-family: Arial, sans-serif;
        }

        .music-player-mini {
            width: 50px;
            height: 50px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .music-player-mini:hover {
            transform: scale(1.1);
        }

        .music-player-mini .play-icon {
            color: white;
            font-size: 20px;
        }

        .music-player-full {
            width: 260px;
            background: rgba(30, 30, 30, 0.95);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            display: none;
            position: fixed;
            right: 15px;
            bottom: 80px;
            z-index: 1000;
        }

        .music-player-full.active {
            display: block;
        }

        .album-cover-container {
            width: 120px;
            height: 120px;
            margin: 0 auto 12px;
            position: relative;
        }

        .album-cover {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #8b4513;
        }

        body.night-mode .album-cover {
            border: 2px solid #ffffff;
        }

        .song-info {
            text-align: center;
            margin-bottom: 15px;
            color: white;
        }

        .song-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .song-artist {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .loading-indicator {
            text-align: center;
            color: white;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .lyrics-container {
            height: 60px;
            overflow: hidden;
            margin-bottom: 15px;
            display: none;
        }

        .lyrics-container.show {
            display: block;
        }

        .lyrics {
            text-align: center;
            color: #ffcc00;
            font-size: 0.9rem;
            line-height: 1.4;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toggle-lyrics {
            text-align: center;
            margin-bottom: 15px;
        }

        .toggle-lyrics label {
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
        }

        .progress-container {
            width: 100%;
            height: 5px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin-bottom: 15px;
            cursor: pointer;
        }

        .progress-bar {
            height: 100%;
            background: #8b4513;
            border-radius: 3px;
            width: 0%;
        }

        body.night-mode .progress-bar {
            background: #ffffff;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .volume-control span {
            color: white;
            font-size: 1.2rem;
        }

        .volume-slider {
            flex: 1;
            height: 5px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #8b4513;
            cursor: pointer;
        }

        body.night-mode .volume-slider::-webkit-slider-thumb {
            background: #ffffff;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: rgba(139, 69, 19, 0.5);
            transform: scale(1.1);
        }

        body.night-mode .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .play-btn {
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
        }

        .file-input-container {
            text-align: center;
            margin-bottom: 15px;
        }

        .file-input-label {
            display: inline-block;
            padding: 8px 15px;
            background: rgba(139, 69, 19, 0.7);
            color: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .file-input-label:hover {
            background: rgba(139, 69, 19, 1);
            transform: translateY(-2px);
        }

        body.night-mode .file-input-label {
            background: rgba(100, 100, 100, 0.7);
        }

        body.night-mode .file-input-label:hover {
            background: rgba(150, 150, 150, 1);
        }

        #fileInputMusic {
            display: none;
        }

        .playlist-container {
            max-height: 100px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 10px;
        }

        .playlist-item {
            padding: 5px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .playlist-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .playlist-item.active {
            color: #ffcc00;
            font-weight: bold;
        }
        
        /* ############################################################ */
        /* ##### ÂìçÂ∫îÂºèËÆæËÆ° ##### */
        /* ############################################################ */
        
        @media (max-width: 768px) {
            .content-area {
                flex-direction: column;
            }
            
            .control-panel {
                flex-direction: column;
            }
            
            .control-group {
                width: 100%;
                justify-content: space-between;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .reader-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö Áé∞‰ª£ÂåñÂ∞èËØ¥ÈòÖËØªÂô®</h1>
            <div class="subtitle">‰∫´ÂèóÈòÖËØªÁöÑÁæéÂ•ΩÊó∂ÂÖâ</div>
        </header>
        
        <div class="control-panel">
            <div class="control-group">
                <label for="fontSize">Â≠ó‰ΩìÂ§ßÂ∞è:</label>
                <select id="fontSize">
                    <option value="small">Â∞èÂè∑</option>
                    <option value="medium" selected>‰∏≠Âè∑</option>
                    <option value="large">Â§ßÂè∑</option>
                    <option value="xlarge">Ë∂ÖÂ§ßÂè∑</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="themeToggle">Â§úÈó¥Ê®°Âºè:</label>
                <input type="checkbox" id="themeToggle">
            </div>
            
            <div class="control-group">
                <button id="prevChapter">‰∏ä‰∏ÄÁ´†</button>
                <button id="nextChapter">‰∏ã‰∏ÄÁ´†</button>
            </div>
            
            <div class="control-group">
                <label for="chapterJump">Ë∑≥ËΩ¨Âà∞:</label>
                <input type="number" id="chapterJump" min="1" placeholder="Á´†ËäÇÂè∑">
                <button id="jumpButton">Ë∑≥ËΩ¨</button>
            </div>
        </div>
        
        <div class="content-area">
            <div class="chapter-list-container">
                <h2>üìñ Á´†ËäÇÂàóË°®</h2>
                <ul class="chapter-list" id="chapterList">
                    <!-- Á´†ËäÇÂàóË°®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </ul>
            </div>
            
            <div class="reader-container">
                <div class="chapter-title" id="currentChapterTitle">ËØ∑ÈÄâÊã©Á´†ËäÇÂºÄÂßãÈòÖËØª</div>
                <div class="chapter-content" id="chapterContent">
                    <!-- Á´†ËäÇÂÜÖÂÆπÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Âä†ËΩΩÊåáÁ§∫Âô® -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loadingText">Ê≠£Âú®Âä†ËΩΩÂ∞èËØ¥‰∏≠...</p>
        </div>
    </div>

    <!-- Èü≥‰πêÊí≠ÊîæÂô®ÊÇ¨ÊµÆÁ™ó -->
    <div class="music-player-container" id="musicPlayerContainer">
        <div class="music-player-mini" id="miniPlayer">
            <div class="play-icon">‚ô™</div>
        </div>
        
        <div class="music-player-full" id="fullPlayer">
            <div class="album-cover-container">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiMzMzMzMzMiLz48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iIzIyMjIyMiIvPjxwYXRoIGQ9Ik01MCwxMEw2MCw0MEw5MCw0MEw2NSw2MEw3NSw5MEw1MCw3MEwyNSw5MEwzNSw2MEwxMCw0MEw0MCw0MEw1MCwxMFoiIGZpbGw9IiNmZjAwMDAiLz48L3N2Zz4=" 
                     alt="Album Cover" class="album-cover" id="albumCover">
            </div>
            
            <div class="song-info">
                <div class="song-title" id="songTitle">Êú™ÈÄâÊã©Ê≠åÊõ≤</div>
                <div class="song-artist" id="songArtist">ËØ∑Ê∑ªÂä†Èü≥‰πêÊñá‰ª∂</div>
            </div>
            
            <div class="loading-indicator" id="loadingIndicator" style="display: none;">
                Ê≠£Âú®Âä†ËΩΩÈü≥‰πêÂíåÊ≠åËØç...
            </div>
            
            <div class="lyrics-container" id="lyricsContainer">
                <div class="lyrics" id="lyrics">‰∫´ÂèóÈü≥‰πêÊó∂ÂÖâ</div>
            </div>
            
            <div class="toggle-lyrics">
                <label>
                    <input type="checkbox" id="lyricsToggle" checked> ÊòæÁ§∫Ê≠åËØç
                </label>
            </div>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="volume-control">
                <span>üîä</span>
                <input type="range" min="0" max="1" step="0.01" value="1" class="volume-slider" id="volumeSlider">
            </div>
            
            <div class="controls">
                <button class="control-btn" id="prevBtn">‚èÆ</button>
                <button class="control-btn play-btn" id="playBtn">‚ñ∂</button>
                <button class="control-btn" id="nextBtn">‚è≠</button>
            </div>
            
            <div class="file-input-container">
                <input type="file" id="fileInputMusic" accept=".mp3,.flac,audio/*" multiple>
                <label for="fileInputMusic" class="file-input-label">Ê∑ªÂä†Èü≥‰πê</label>
            </div>
            
            <div class="playlist-container" id="playlistContainer">
                <div class="playlist-item" id="defaultPlaylistItem">ÊöÇÊó†Êí≠ÊîæÂàóË°®</div>
            </div>
        </div>
    </div>

    <audio id="audioPlayer"></audio>

    <script>
        class ModernNovelReader {
            constructor() {
                this.allChapters = []; // Â≠òÂÇ®ÊâÄÊúâÁ´†ËäÇ
                this.currentChapterIndex = 0; // ÂΩìÂâçÁ´†ËäÇÁ¥¢Âºï
                this.fontSize = 'medium';
                this.isNightMode = false;
                
                this.initializeElements();
                this.bindEvents();
                this.applyTheme();
                this.applyFontSize();
                this.initGitHubLoader();
            }
            
            initializeElements() {
                // ÊéßÂà∂Èù¢ÊùøÂÖÉÁ¥†
                this.themeToggle = document.getElementById('themeToggle');
                this.fontSizeSelect = document.getElementById('fontSize');
                this.chapterJump = document.getElementById('chapterJump');
                this.jumpButton = document.getElementById('jumpButton');
                
                // Á´†ËäÇÂØºËà™ÊåâÈíÆ
                this.prevChapter = document.getElementById('prevChapter');
                this.nextChapter = document.getElementById('nextChapter');
                
                // ÂÜÖÂÆπÊòæÁ§∫Âå∫Âüü
                this.chapterList = document.getElementById('chapterList');
                this.currentChapterTitle = document.getElementById('currentChapterTitle');
                this.chapterContent = document.getElementById('chapterContent');
                
                // Âä†ËΩΩÊåáÁ§∫Âô®
                this.loadingOverlay = document.getElementById('loadingOverlay');
                this.loadingText = document.getElementById('loadingText');
            }
            
            bindEvents() {
                // ‰∏ªÈ¢òÂàáÊç¢
                this.themeToggle.addEventListener('change', () => {
                    this.isNightMode = this.themeToggle.checked;
                    this.applyTheme();
                });
                
                // Â≠ó‰ΩìÂ§ßÂ∞èË∞ÉÊï¥
                this.fontSizeSelect.addEventListener('change', () => {
                    this.fontSize = this.fontSizeSelect.value;
                    this.applyFontSize();
                });
                
                // Á´†ËäÇË∑≥ËΩ¨
                this.jumpButton.addEventListener('click', () => {
                    const chapterNum = parseInt(this.chapterJump.value);
                    if (chapterNum && chapterNum > 0 && chapterNum <= this.allChapters.length) {
                        this.loadChapter(chapterNum - 1);
                    } else {
                        alert('ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÁ´†ËäÇÂè∑');
                    }
                });
                
                // ÂõûËΩ¶ÈîÆË∑≥ËΩ¨
                this.chapterJump.addEventListener('keyup', (e) => {
                    if (e.key === 'Enter') {
                        this.jumpButton.click();
                    }
                });
                
                // Á´†ËäÇÂØºËà™ÊåâÈíÆ
                this.prevChapter.addEventListener('click', () => this.previousChapter());
                this.nextChapter.addEventListener('click', () => this.nextChapterFunc());
            }
            
            applyTheme() {
                if (this.isNightMode) {
                    document.body.classList.add('night-mode');
                } else {
                    document.body.classList.remove('night-mode');
                }
            }
            
            applyFontSize() {
                const sizes = {
                    'small': '14px',
                    'medium': '16px',
                    'large': '18px',
                    'xlarge': '20px'
                };
                
                this.chapterContent.style.fontSize = sizes[this.fontSize];
                this.chapterContent.style.lineHeight = this.fontSize === 'small' ? '1.6' : 
                                                     this.fontSize === 'large' ? '2.0' : 
                                                     this.fontSize === 'xlarge' ? '2.2' : '1.8';
            }
            
            // ÂàùÂßãÂåñGitHubÂä†ËΩΩÂô®
            initGitHubLoader() {
                // ÊòæÁ§∫Âä†ËΩΩÊåáÁ§∫Âô®
                this.showLoading("Ê≠£Âú®Êâ´ÊèèGitHub‰ªìÂ∫ì‰∏≠ÁöÑÂ∞èËØ¥...");
                
                // Ê®°Êãü‰ªéGitHubÂä†ËΩΩÂ∞èËØ¥ÂàóË°®
                setTimeout(() => {
                    // ËøôÈáåÂ∫îËØ•‰ªéGitHub APIËé∑ÂèñÊñá‰ª∂ÂàóË°®
                    // ‰∏∫ÊºîÁ§∫ÁõÆÁöÑÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∫õÁ§∫‰æãÂ∞èËØ¥
                    const sampleNovels = [
                        { name: "„ÄäÁ∫¢Ê•ºÊ¢¶„Äã.txt", path: "Book/Á∫¢Ê•ºÊ¢¶.txt" },
                        { name: "„ÄäË•øÊ∏∏ËÆ∞„Äã.txt", path: "Book/Ë•øÊ∏∏ËÆ∞.txt" },
                        { name: "„Ää‰∏âÂõΩÊºî‰πâ„Äã.txt", path: "Book/‰∏âÂõΩÊºî‰πâ.txt" },
                        { name: "„ÄäÊ∞¥Êµí‰º†„Äã.txt", path: "Book/Ê∞¥Êµí‰º†.txt" }
                    ];
                    
                    this.renderNovelList(sampleNovels);
                    this.hideLoading();
                }, 1000);
            }
            
            // Ê∏≤ÊüìÂ∞èËØ¥ÂàóË°®
            renderNovelList(novels) {
                // ËøôÈáåÂ∫îËØ•Ê∏≤ÊüìÂ∞èËØ¥ÈÄâÊã©ÁïåÈù¢
                // ‰∏∫ÊºîÁ§∫ÁõÆÁöÑÔºåÊàë‰ª¨Áõ¥Êé•Âä†ËΩΩÁ¨¨‰∏ÄÊú¨Â∞èËØ¥
                if (novels.length > 0) {
                    this.loadNovelFromGitHub(novels[0].path);
                }
            }
            
            // ‰ªéGitHubÂä†ËΩΩÂ∞èËØ¥
            async loadNovelFromGitHub(filePath) {
                this.showLoading("Ê≠£Âú®Âä†ËΩΩÂ∞èËØ¥ÂÜÖÂÆπ...");
                
                try {
                    // Ê®°Êãü‰ªéGitHubÂä†ËΩΩÂ∞èËØ¥ÂÜÖÂÆπ
                    // ÂÆûÈôÖ‰ΩøÁî®Êó∂Â∫îËØ•‰ΩøÁî®GitHub API
                    setTimeout(() => {
                        // Ê®°ÊãüÂä†ËΩΩÂÆåÊàê
                        const sampleContent = `
Á¨¨1Á´† Á¶ªÂÆ∂Âá∫Ëµ∞

Ê∏ÖÊô®ÁöÑÁ¨¨‰∏ÄÁºïÈò≥ÂÖâÈÄèËøáÁ™óÂ∏òÊ¥íÂú®Âú∞Êùø‰∏äÔºåÊùéÊòéÁºìÁºìÁùÅÂºÄÁúºÁùõ„ÄÇ‰ªäÂ§©ÊòØ‰ªñÂÜ≥ÂÆöÁ¶ªÂÆ∂Âá∫Ëµ∞ÁöÑÊó•Â≠ê„ÄÇ

‰ªñËΩªÊâãËΩªËÑöÂú∞Êî∂ÊãæÁùÄË°åÊùéÔºåÂøÉ‰∏≠‰∫îÂë≥ÊùÇÈôà„ÄÇÁà∂ÊØçÁöÑÊúüÊúõ„ÄÅËá™Â∑±ÁöÑÊ¢¶ÊÉ≥Ôºå‰∏§ËÄÖ‰πãÈó¥ÁöÑÂÜ≤Á™ÅËÆ©‰ªñÂ§ú‰∏çËÉΩÂØê„ÄÇ

"‰πüËÆ∏ÔºåÂè™ÊúâËµ∞Âá∫ÂéªÊâçËÉΩÊâæÂà∞ÁúüÊ≠£ÁöÑËá™Â∑±„ÄÇ"‰ªñÈªòÈªòÂú∞ÊÉ≥ÁùÄÔºåÂ∞ÜÊúÄÂêé‰∏Ä‰ª∂Ë°£ÊúçÊîæËøõËÉåÂåÖ„ÄÇ

Ëµ∞Âú®ÈôåÁîüÁöÑË°óÈÅì‰∏äÔºå‰ªñÊÑüÂà∞ÂâçÊâÄÊú™ÊúâÁöÑËá™Áî±„ÄÇÈ´òÊ•ºÂ§ßÂé¶„ÄÅËΩ¶Ê∞¥È©¨ÈæôÔºå‰∏ÄÂàáÈÉΩÊòØÈÇ£‰πàÈôåÁîü„ÄÇ

‰ªñÊâæÂà∞‰∫Ü‰∏Ä‰ªΩÈ§êÂéÖÊúçÂä°ÂëòÁöÑÂ∑•‰ΩúÔºåËôΩÁÑ∂ËæõËã¶Ôºå‰ΩÜËá≥Â∞ëËÉΩÁª¥ÊåÅÂü∫Êú¨ÁîüÊ¥ª„ÄÇ

Á¨¨‰∏ÄÂ§©‰∏ãÁè≠ÂêéÔºå‰ªñÊãñÁùÄÁñ≤ÊÉ´ÁöÑË∫´‰ΩìÂõûÂà∞ÁßüÊù•ÁöÑÂ∞èÊàøÈó¥ÔºåË∫∫Âú®Â∫ä‰∏äÊúõÁùÄÂ§©Ëä±ÊùøÔºåÊÄùËÄÉÁùÄÊú™Êù•ÁöÑË∑Ø„ÄÇ

Âú®È§êÂéÖÈáåÔºåÊùéÊòéÈÅáÂà∞‰∫ÜÂ•π‚Äî‚Äî‰∏Ä‰∏™Á¨ëÂÆπÁÅøÁÉÇÁöÑÂ•≥Â≠©ÔºåÂêçÂè´Â∞èÈõ®„ÄÇÂ•πÊòØËøôÈáåÁöÑÂ∏∏ÂÆ¢ÔºåÊÄªÊòØÁÇπÂêåÊ†∑ÁöÑÂ•óÈ§êÔºåÂùêÂú®Èù†Á™óÁöÑ‰ΩçÁΩÆ„ÄÇ

Ê∏êÊ∏êÂú∞Ôºå‰ªñ‰ª¨ÂºÄÂßã‰∫§Ë∞àÔºå‰ªéÂ§©Ê∞îËÅäÂà∞‰π¶Á±çÔºå‰ªéÂ∑•‰ΩúËÅäÂà∞Ê¢¶ÊÉ≥„ÄÇ

"‰Ω†Áõ∏‰ø°ÂëΩËøêÂêóÔºü"Â∞èÈõ®Á™ÅÁÑ∂ÈóÆÈÅì„ÄÇ

ÊùéÊòéÊÑ£‰∫Ü‰∏Ä‰∏ãÔºåÁÑ∂ÂêéÁ¨ëÁùÄËØ¥Ôºö"‰πüËÆ∏ÂêßÔºåÂê¶ÂàôÊàë‰ª¨ÊÄé‰πà‰ºöÂú®ËøôÈáåÁõ∏ÈÅá„ÄÇ"

Á¨¨2Á´† ÂàùÂÖ•Á§æ‰ºö

ÂüéÂ∏ÇÁöÑÂñßÂö£ËÆ©ÊùéÊòéÊÑüÂà∞Êó¢ÂÖ¥Â•ãÂèà‰∏çÂÆâ„ÄÇÈ´òÊ•ºÂ§ßÂé¶„ÄÅËΩ¶Ê∞¥È©¨ÈæôÔºå‰∏ÄÂàáÈÉΩÊòØÈÇ£‰πàÈôåÁîü„ÄÇ

‰ªñÊâæÂà∞‰∫Ü‰∏Ä‰ªΩÈ§êÂéÖÊúçÂä°ÂëòÁöÑÂ∑•‰ΩúÔºåËôΩÁÑ∂ËæõËã¶Ôºå‰ΩÜËá≥Â∞ëËÉΩÁª¥ÊåÅÂü∫Êú¨ÁîüÊ¥ª„ÄÇ

Á¨¨‰∏ÄÂ§©‰∏ãÁè≠ÂêéÔºå‰ªñÊãñÁùÄÁñ≤ÊÉ´ÁöÑË∫´‰ΩìÂõûÂà∞ÁßüÊù•ÁöÑÂ∞èÊàøÈó¥ÔºåË∫∫Âú®Â∫ä‰∏äÊúõÁùÄÂ§©Ëä±ÊùøÔºåÊÄùËÄÉÁùÄÊú™Êù•ÁöÑË∑Ø„ÄÇ

Âú®Â∞èÈõ®ÁöÑÈºìÂä±‰∏ãÔºåÊùéÊòéÈáçÊñ∞ÊãæËµ∑‰∫ÜÂ∞èÊó∂ÂÄôÁöÑÂÜô‰ΩúÊ¢¶ÊÉ≥„ÄÇÊØèÂ§©‰∏ãÁè≠ÂêéÔºå‰ªñÈÉΩ‰ºöÂú®ÊòèÈªÑÁöÑÂè∞ÁÅØ‰∏ãÂÜô‰∏ãËá™Â∑±ÁöÑÊïÖ‰∫ã„ÄÇ

Âá†‰∏™ÊúàÂêéÔºå‰ªñÁöÑÁ¨¨‰∏ÄÁØáÁü≠ÁØáÂ∞èËØ¥Âú®ÊùÇÂøó‰∏äÂèëË°®ÔºåËôΩÁÑ∂Á®øË¥πÂæÆËñÑÔºå‰ΩÜÈÇ£‰ªΩÊàêÂ∞±ÊÑüËÆ©‰ªñÊ¨£ÂñúËã•ÁãÇ„ÄÇ

"ËøôÂè™ÊòØÂºÄÂßã„ÄÇ"‰ªñÂØπËá™Â∑±ËØ¥ÔºåÁúº‰∏≠Èó™ÁÉÅÁùÄÂùöÂÆöÁöÑÂÖâËäí„ÄÇ

Á¨¨3Á´† ÊÑèÂ§ñÁõ∏ÈÅá

Âú®È§êÂéÖÈáåÔºåÊùéÊòéÈÅáÂà∞‰∫ÜÂ•π‚Äî‚Äî‰∏Ä‰∏™Á¨ëÂÆπÁÅøÁÉÇÁöÑÂ•≥Â≠©ÔºåÂêçÂè´Â∞èÈõ®„ÄÇÂ•πÊòØËøôÈáåÁöÑÂ∏∏ÂÆ¢ÔºåÊÄªÊòØÁÇπÂêåÊ†∑ÁöÑÂ•óÈ§êÔºåÂùêÂú®Èù†Á™óÁöÑ‰ΩçÁΩÆ„ÄÇ

Ê∏êÊ∏êÂú∞Ôºå‰ªñ‰ª¨ÂºÄÂßã‰∫§Ë∞àÔºå‰ªéÂ§©Ê∞îËÅäÂà∞‰π¶Á±çÔºå‰ªéÂ∑•‰ΩúËÅäÂà∞Ê¢¶ÊÉ≥„ÄÇ

"‰Ω†Áõ∏‰ø°ÂëΩËøêÂêóÔºü"Â∞èÈõ®Á™ÅÁÑ∂ÈóÆÈÅì„ÄÇ

ÊùéÊòéÊÑ£‰∫Ü‰∏Ä‰∏ãÔºåÁÑ∂ÂêéÁ¨ëÁùÄËØ¥Ôºö"‰πüËÆ∏ÂêßÔºåÂê¶ÂàôÊàë‰ª¨ÊÄé‰πà‰ºöÂú®ËøôÈáåÁõ∏ÈÅá„ÄÇ"

Á¨¨4Á´† Ê¢¶ÊÉ≥ÂêØËà™

Âú®Â∞èÈõ®ÁöÑÈºìÂä±‰∏ãÔºåÊùéÊòéÈáçÊñ∞ÊãæËµ∑‰∫ÜÂ∞èÊó∂ÂÄôÁöÑÂÜô‰ΩúÊ¢¶ÊÉ≥„ÄÇÊØèÂ§©‰∏ãÁè≠ÂêéÔºå‰ªñÈÉΩ‰ºöÂú®ÊòèÈªÑÁöÑÂè∞ÁÅØ‰∏ãÂÜô‰∏ãËá™Â∑±ÁöÑÊïÖ‰∫ã„ÄÇ

Âá†‰∏™ÊúàÂêéÔºå‰ªñÁöÑÁ¨¨‰∏ÄÁØáÁü≠ÁØáÂ∞èËØ¥Âú®ÊùÇÂøó‰∏äÂèëË°®ÔºåËôΩÁÑ∂Á®øË¥πÂæÆËñÑÔºå‰ΩÜÈÇ£‰ªΩÊàêÂ∞±ÊÑüËÆ©‰ªñÊ¨£ÂñúËã•ÁãÇ„ÄÇ

"ËøôÂè™ÊòØÂºÄÂßã„ÄÇ"‰ªñÂØπËá™Â∑±ËØ¥ÔºåÁúº‰∏≠Èó™ÁÉÅÁùÄÂùöÂÆöÁöÑÂÖâËäí„ÄÇ

Á¨¨5Á´† Êñ∞ÁöÑÂºÄÂßã

‰∏ÄÂπ¥ÂêéÔºåÊùéÊòéÂ∑≤ÁªèÊàê‰∏∫‰∫Ü‰∏ÄÂêçÂ∞èÊúâÂêçÊ∞îÁöÑ‰ΩúÂÆ∂„ÄÇ‰ªñÁöÑ‰ΩúÂìÅÊ∏©ÊöñËÄåÁúüÂÆûÔºåÊÑüÂä®‰∫ÜÊó†Êï∞ËØªËÄÖ„ÄÇ

Â∞èÈõ®Êàê‰∫Ü‰ªñÁöÑÁºñËæëÔºå‰πüÊàê‰∫Ü‰ªñÁîüÂëΩ‰∏≠ÊúÄÈáçË¶ÅÁöÑ‰∫∫„ÄÇ

Á´ôÂú®Êñ∞‰π¶ÂèëÂ∏É‰ºöÁöÑÂè∞‰∏äÔºåÊùéÊòéÊÑüÊÖ®‰∏áÂçÉÔºö"ÊÑüË∞¢ÈÇ£‰∏™ÂãáÊï¢Ë∏èÂá∫ÂÆ∂Èó®ÁöÑËá™Â∑±ÔºåÊÑüË∞¢ÊâÄÊúâÂ∏ÆÂä©ËøáÊàëÁöÑ‰∫∫ÔºåÊõ¥ÊÑüË∞¢ÁîüÊ¥ªÁªô‰∫àÊàëÁöÑ‰∏ÄÂàá„ÄÇ"

ÂèëÂ∏É‰ºöÁªìÊùüÂêéÔºåÂ∞èÈõ®Ëµ∞Âà∞‰ªñË∫´ËæπÔºåÊ∏©ÊüîÂú∞ËØ¥Ôºö"‰Ω†ÂÅöÂà∞‰∫Ü„ÄÇ"

ÊùéÊòéÊè°‰ΩèÂ•πÁöÑÊâãÔºö"ÊòØÁöÑÔºåÊàë‰ª¨ÂÅöÂà∞‰∫Ü„ÄÇ"
                        `;
                        
                        this.parseChapters(sampleContent);
                        if (this.allChapters.length > 0) {
                            this.loadChapter(0);
                        }
                        this.hideLoading();
                    }, 1500);
                } catch (error) {
                    console.error("Âä†ËΩΩÂ∞èËØ¥Êó∂Âá∫Èîô:", error);
                    this.hideLoading();
                    alert("Âä†ËΩΩÂ∞èËØ¥Êó∂Âá∫ÈîôÔºåËØ∑ÈáçËØï");
                }
            }
            
            // Ëß£ÊûêÁ´†ËäÇÂÜÖÂÆπ - ÂÖ≥ÈîÆÊîπËøõÔºö‰∏•Ê†ºÊåâÁÖßÊñá‰ª∂‰∏≠ÁöÑÁ´†ËäÇÊ†áËÆ∞ÂàíÂàÜÁ´†ËäÇ
            parseChapters(content) {
                // Á´†ËäÇÊ†áÈ¢òÁöÑÊ≠£ÂàôË°®ËææÂºèÔºàÊîØÊåÅÂ§öÁßçÊ†ºÂºèÔºâ
                const chapterRegex = /(Á¨¨\s*[‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅÁôæÂçÉ‰∏á\d]+\s*Á´†[^\n]*)/g;
                
                // ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊü•ÊâæÊâÄÊúâÁ´†ËäÇÊ†áÈ¢òÂèäÂÖ∂‰ΩçÁΩÆ
                const chapterMatches = [];
                let match;
                
                while ((match = chapterRegex.exec(content)) !== null) {
                    chapterMatches.push({
                        title: match[1],
                        startIndex: match.index
                    });
                }
                
                this.allChapters = [];
                
                // Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞Á´†ËäÇÊ†áÈ¢òÔºåÂàôÂ∞ÜÊï¥‰∏™ÂÜÖÂÆπ‰Ωú‰∏∫‰∏Ä‰∏™Á´†ËäÇ
                if (chapterMatches.length === 0) {
                    this.allChapters.push({
                        title: "ÂÖ®Êñá",
                        content: content.trim()
                    });
                } else {
                    // Â§ÑÁêÜÂ∫èÁ´†ÔºàÂú®Á¨¨‰∏Ä‰∏™Á´†ËäÇÊ†áÈ¢ò‰πãÂâçÁöÑÂÜÖÂÆπÔºâ
                    if (chapterMatches[0].startIndex > 0) {
                        const introContent = content.substring(0, chapterMatches[0].startIndex).trim();
                        if (introContent) {
                            this.allChapters.push({
                                title: "Â∫èÁ´†",
                                content: introContent
                            });
                        }
                    }
                    
                    // Â§ÑÁêÜÊØè‰∏™Á´†ËäÇ
                    for (let i = 0; i < chapterMatches.length; i++) {
                        const chapterStart = chapterMatches[i].startIndex;
                        const chapterTitle = chapterMatches[i].title;
                        
                        // Á°ÆÂÆöÁ´†ËäÇÁªìÊùü‰ΩçÁΩÆ
                        const chapterEnd = i < chapterMatches.length - 1 
                            ? chapterMatches[i + 1].startIndex 
                            : content.length;
                        
                        // ÊèêÂèñÁ´†ËäÇÂÜÖÂÆπÔºàÂåÖÊã¨Á´†ËäÇÊ†áÈ¢òÔºâ
                        const chapterContent = content.substring(chapterStart, chapterEnd).trim();
                        
                        this.allChapters.push({
                            title: chapterTitle,
                            content: chapterContent
                        });
                    }
                }
                
                this.renderChapterList();
            }
            
            // Ê∏≤ÊüìÁ´†ËäÇÂàóË°®
            renderChapterList() {
                this.chapterList.innerHTML = '';
                this.allChapters.forEach((chapter, index) => {
                    const li = document.createElement('li');
                    li.className = 'chapter-item';
                    li.textContent = chapter.title;
                    li.addEventListener('click', () => {
                        this.loadChapter(index);
                    });
                    this.chapterList.appendChild(li);
                });
            }
            
            // Âä†ËΩΩÊåáÂÆöÁ´†ËäÇ
            loadChapter(index) {
                if (index < 0 || index >= this.allChapters.length) return;
                
                this.currentChapterIndex = index;
                
                const chapter = this.allChapters[index];
                
                // Êõ¥Êñ∞Ê†áÈ¢òÂíåÂÜÖÂÆπ
                this.currentChapterTitle.textContent = chapter.title;
                
                // ÊòæÁ§∫Á´†ËäÇÂÜÖÂÆπÔºà‰øùÊåÅÂéüÊúâÁöÑÊÆµËêΩÊ†ºÂºèÔºâ
                this.chapterContent.innerHTML = '';
                const paragraphs = chapter.content.split('\n\n');
                
                paragraphs.forEach(paragraph => {
                    if (paragraph.trim()) {
                        const p = document.createElement('p');
                        p.textContent = paragraph.trim();
                        this.chapterContent.appendChild(p);
                    }
                });
                
                // Êõ¥Êñ∞Á´†ËäÇÂàóË°®‰∏≠ÁöÑÊ¥ªÂä®È°π
                document.querySelectorAll('.chapter-item').forEach((item, i) => {
                    if (i === index) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
                
                // Êõ¥Êñ∞Ë∑≥ËΩ¨ËæìÂÖ•Ê°Ü
                this.chapterJump.value = index + 1;
                
                // ÊªöÂä®Âà∞È°∂ÈÉ®
                this.chapterContent.scrollTop = 0;
            }
            
            // ‰∏ä‰∏ÄÁ´†
            previousChapter() {
                if (this.currentChapterIndex > 0) {
                    this.loadChapter(this.currentChapterIndex - 1);
                }
            }
            
            // ‰∏ã‰∏ÄÁ´†
            nextChapterFunc() {
                if (this.currentChapterIndex < this.allChapters.length - 1) {
                    this.loadChapter(this.currentChapterIndex + 1);
                }
            }
            
            // ÊòæÁ§∫Âä†ËΩΩÊåáÁ§∫Âô®
            showLoading(text) {
                this.loadingText.textContent = text;
                this.loadingOverlay.style.display = 'flex';
            }
            
            // ÈöêËóèÂä†ËΩΩÊåáÁ§∫Âô®
            hideLoading() {
                this.loadingOverlay.style.display = 'none';
            }
        }
        
        // ############################################################
        // ##### ‰øÆÊîπÂêéÁöÑGitHubÈü≥‰πêÊí≠ÊîæÂô®ÂäüËÉΩÂÆûÁé∞ #####
        // ############################################################
        
        class GitHubMusicPlayer {
          constructor() {
            this.audio = document.getElementById('audioPlayer');
            this.playlist = [];
            this.currentTrack = 0;
            this.isPlaying = false;
            this.lyricsData = [];
            this.isPlayerVisible = false; // Êñ∞Â¢ûÔºöË∑üË∏™Êí≠ÊîæÂô®ÊòØÂê¶ÂèØËßÅ
            
            this.initializeElements();
            this.bindEvents();
            this.scanMusicFolder();
          }
          
          initializeElements() {
            this.musicPlayerContainer = document.getElementById('musicPlayerContainer'); // Êñ∞Â¢û
            this.miniPlayer = document.getElementById('miniPlayer');
            this.fullPlayer = document.getElementById('fullPlayer');
            this.albumCover = document.getElementById('albumCover');
            this.songTitle = document.getElementById('songTitle');
            this.songArtist = document.getElementById('songArtist');
            this.lyricsContainer = document.getElementById('lyricsContainer');
            this.lyrics = document.getElementById('lyrics');
            this.lyricsToggle = document.getElementById('lyricsToggle');
            this.progressContainer = document.getElementById('progressContainer');
            this.progressBar = document.getElementById('progressBar');
            this.prevBtn = document.getElementById('prevBtn');
            this.playBtn = document.getElementById('playBtn');
            this.nextBtn = document.getElementById('nextBtn');
            this.fileInputMusic = document.getElementById('fileInputMusic');
            this.playlistContainer = document.getElementById('playlistContainer');
            this.defaultPlaylistItem = document.getElementById('defaultPlaylistItem');
            this.volumeSlider = document.getElementById('volumeSlider');
            this.loadingIndicator = document.getElementById('loadingIndicator');
          }
          
          bindEvents() {
            // ‰øÆÊîπÔºöÁÇπÂáªÊÇ¨ÊµÆÁ™óÂàáÊç¢Êí≠ÊîæÂô®ÊòæÁ§∫/ÈöêËóè
            this.miniPlayer.addEventListener('click', () => {
              this.togglePlayer();
            });
            
            // ‰øÆÊîπÔºöÁÇπÂáªÊí≠ÊîæÂô®ÂÆπÂô®Â§ñÈÉ®‰πüÂèØ‰ª•ÂàáÊç¢
            this.musicPlayerContainer.addEventListener('click', (e) => {
              // Âè™ÊúâÁÇπÂáªÂÆπÂô®Êú¨Ë∫´Ôºà‰∏çÊòØÂÜÖÈÉ®ÂÖÉÁ¥†ÔºâÊó∂ÊâçÂàáÊç¢
              if (e.target === this.musicPlayerContainer) {
                this.togglePlayer();
              }
            });
            
            // Êí≠ÊîæÊéßÂà∂
            this.playBtn.addEventListener('click', () => this.togglePlay());
            this.prevBtn.addEventListener('click', () => this.prevTrack());
            this.nextBtn.addEventListener('click', () => this.nextTrack());
            
            // Ê≠åËØçÊòæÁ§∫ÂàáÊç¢
            this.lyricsToggle.addEventListener('change', () => {
              if (this.lyricsToggle.checked) {
                this.lyricsContainer.classList.add('show');
              } else {
                this.lyricsContainer.classList.remove('show');
              }
            });
            
            // ËøõÂ∫¶Êù°ÊéßÂà∂
            this.progressContainer.addEventListener('click', (e) => {
              const percent = e.offsetX / this.progressContainer.offsetWidth;
              this.audio.currentTime = percent * this.audio.duration;
            });
            
            // Êñá‰ª∂ÈÄâÊã©ÔºàÁî®‰∫éÊú¨Âú∞ÊµãËØïÔºâ
            this.fileInputMusic.addEventListener('change', (e) => {
              this.handleFileSelect(e);
            });
            
            // Èü≥ÈáèÊéßÂà∂
            this.volumeSlider.addEventListener('input', (e) => {
              this.audio.volume = e.target.value;
            });
            
            // Èü≥È¢ë‰∫ã‰ª∂
            this.audio.addEventListener('timeupdate', () => this.updateProgress());
            this.audio.addEventListener('timeupdate', () => this.updateLyrics());
            this.audio.addEventListener('ended', () => this.nextTrack());
            this.audio.addEventListener('play', () => this.setPlayingState(true));
            this.audio.addEventListener('pause', () => this.setPlayingState(false));
            this.audio.addEventListener('error', (e) => {
              console.error('Èü≥È¢ëÊí≠ÊîæÈîôËØØ:', e);
              this.loadingIndicator.style.display = 'none';
            });
            this.audio.addEventListener('loadstart', () => {
              this.loadingIndicator.style.display = 'block';
            });
            this.audio.addEventListener('canplay', () => {
              this.loadingIndicator.style.display = 'none';
            });
          }
          
          // Êñ∞Â¢ûÔºöÂàáÊç¢Êí≠ÊîæÂô®ÊòæÁ§∫/ÈöêËóè
          togglePlayer() {
            this.isPlayerVisible = !this.isPlayerVisible;
            if (this.isPlayerVisible) {
              this.fullPlayer.classList.add('active');
            } else {
              this.fullPlayer.classList.remove('active');
            }
          }
          
          // Êâ´ÊèèmusicÊñá‰ª∂Â§π‰∏≠ÁöÑÈü≥‰πêÊñá‰ª∂ - ‰ΩøÁî®GitHub API
          async scanMusicFolder() {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Â§áÁî®Èü≥‰πêÂä†ËΩΩÊñπÊ≥ï
          async scanMusicFolderFallback() {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Â§ÑÁêÜÊú¨Âú∞Êñá‰ª∂ÈÄâÊã©ÔºàÁî®‰∫éÊµãËØïÔºâ
          handleFileSelect(event) {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Âä†ËΩΩÊåáÂÆöÈü≥‰πê
          async loadTrack(index) {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Âä†ËΩΩÂ∞ÅÈù¢ÂõæÁâá
          async loadCoverImage(track) {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Âä†ËΩΩÊ≠åËØçÊñá‰ª∂
          async loadLyrics(track) {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Ëß£ÊûêLRCÊ≠åËØçÊ†ºÂºè
          parseLyrics(lyricsText) {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Êõ¥Êñ∞ÂΩìÂâçÊ≠åËØçÊòæÁ§∫
          updateLyrics() {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
          
          // Êí≠Êîæ/ÊöÇÂÅúÊéßÂà∂
          togglePlay() {
            if (this.playlist.length === 0) {
              alert('ËØ∑ÂÖàÊ∑ªÂä†Èü≥‰πêÊñá‰ª∂');
              return;
            }
            
            if (this.isPlaying) {
              this.audio.pause();
            } else {
              if (!this.audio.src) {
                this.loadTrack(this.currentTrack);
              }
              this.audio.play();
            }
          }
          
          // ËÆæÁΩÆÊí≠ÊîæÁä∂ÊÄÅ
          setPlayingState(playing) {
            this.isPlaying = playing;
            this.playBtn.textContent = playing ? '‚ùö‚ùö' : '‚ñ∂';
            
            if (playing) {
              this.fullPlayer.classList.add('playing');
            } else {
              this.fullPlayer.classList.remove('playing');
            }
          }
          
          // ‰∏ä‰∏ÄÈ¶ñ
          prevTrack() {
            if (this.playlist.length === 0) return;
            
            this.currentTrack = (this.currentTrack - 1 + this.playlist.length) % this.playlist.length;
            this.loadTrack(this.currentTrack);
            
            if (this.isPlaying) {
              this.audio.play();
            }
          }
          
          // ‰∏ã‰∏ÄÈ¶ñ
          nextTrack() {
            if (this.playlist.length === 0) return;
            
            this.currentTrack = (this.currentTrack + 1) % this.playlist.length;
            this.loadTrack(this.currentTrack);
            
            if (this.isPlaying) {
              this.audio.play();
            }
          }
          
          // Êõ¥Êñ∞ËøõÂ∫¶Êù°
          updateProgress() {
            if (this.audio.duration) {
              const percent = (this.audio.currentTime / this.audio.duration) * 100;
              this.progressBar.style.width = `${percent}%`;
            }
          }
          
          // Êõ¥Êñ∞Êí≠ÊîæÂàóË°®ÊòæÁ§∫
          updatePlaylistDisplay() {
            // ‰∏∫‰øùÊåÅÁÆÄÊ¥ÅÔºåËøôÈáåÁúÅÁï•Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞
            // ÂÆûÈôÖ‰ΩøÁî®Êó∂‰øùÁïôÂéüÊúâ‰ª£Á†Å
          }
        }
        
        // ÂàùÂßãÂåñÈòÖËØªÂô®ÂíåÈü≥‰πêÊí≠ÊîæÂô®
        document.addEventListener('DOMContentLoaded', () => {
            const reader = new ModernNovelReader();
            new GitHubMusicPlayer();
        });
    </script>
</body>
</html>
